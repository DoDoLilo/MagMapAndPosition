# MagMapAndPosition系统精度影响因素实验文档V0.1
## 1、本文档对应测试\实验目的
**NOTE**:该文档对应测试的目的**并非**单元测试代码BUG，更偏向于做**实验**。  
目的是测试出不同参数设置对该系统定位匹配结果的影响。
### 测试参数（自变量）
#### 建库阶段参数：
|测试参数|参数说明|如何测试|测试范围|测试粒度|
|----|----|----|----|----|
|1. 建库块大小|
|2. 信号低通滤波程度|
|3. 删除多余内插块的程度|
#### 匹配阶段参数：
|测试参数|参数说明|如何测试|测试范围|测试粒度|
|----|----|----|----|----|
|1. PDR的准确度
|2. 缓冲池长度
|3. 最大迭代次数
|4. 迭代步长
|5. 初始遍历搜索参数（次数+粒度） 
|6. 是否在中间的匹配失败的时候进行遍历搜索
    |+ 遍历搜索参数（次数+粒度）
    |+ 是否和初始遍历搜索参数一致
|7. 目标损失大小
|8. 下采样块大小
    |+ 等于建库块大小
    |+ 小于建库块大小
    |+ 大于建库块大小
|9. 信号低通滤波程度
    |+ 是否和建库信号滤波一致

### 统计指标（因变量）
|指标|说明|如何获取|表现形式|存储路径|
|---|----|-------|--------|------|
|1. 匹配结果（坐标序列）与iLocator、PDR的总体距离：
    |+ 总和距离
    |+ 平均距离
    |+ 单点距离
|2. 匹配结果与与iLocator、PDR的分段距离：
    |+ 总和距离
    |+ 平均距离
    |+ 单点距离
|3. 初始匹配成功率
    |+ 失败的原因
|4. 中间匹配成功率
    |+ 失败的原因（越界or达到迭代次数上限）
|5. 系统所需迭代次数
    |+ 匹配成功的迭代次数
    |+ 匹配失败的迭代次数

## 2、测试程序
**NOTE**: 测试程序、数据、结果文件均保存在 /test 目录下 
### 测试程序编写时应尽可能实现以下原则
+ 非BUG单元测试，所以不涉及BCDE原则
+ A：Automatic（自动化）
+ I：Independent（独立性），即做好控制变量
+ R：Repeatable（可重复）
+ 对于单元测试，要保证测试粒度足够小，有助于精确定位问题
